<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<title>カウントダウンタイマー</title>

<style type="text/css">
<!--
body {
	text-align: center;

}
-->
</style>

<script type="text/javascript">
<!--
window.onload = init;

function init() {
	document.sWatch.start.onclick= startWatch;	
	document.sWatch.reset.onclick= stopWatch;	
}

var timerID;	
function startWatch() {
	count = parseInt(document.sWatch.time.value);	
	if (count <= 0) {	
		count = 0;
		return;
	} else if (timerID) {
		count--;
	} 
	document.sWatch.time.value = count;	
	document.sWatch.start.disabled = true;
	if (count == 0) {	
		clearTimeout(timerID);
		timerID = 0;
		alert("時間です!");
		return;
	}
	timerID = setTimeout("startWatch()", 1000);	
}

function stopWatch() {
	document.sWatch.time.value = 0;
	document.sWatch.start.disabled = false;
	if (timerID) {	
		clearTimeout(timerID);
		timerID = 0;
	}		
}

// -->
</script>
</head>

<body bgcolor="#FFFFFF">

<h1>カウントダウンタイマー</h1>
<form name="sWatch">
<p>
時間<input type="text" name="time" size="3" value="10">秒<br>
<input name="start" type="button" value="スタート">
<input name="reset" type="button" value="リセット">
</p></form>
</body>
</html>